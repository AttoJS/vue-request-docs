"use strict";(self.webpackChunken=self.webpackChunken||[]).push([[114],{73322:(e,l,t)=>{t.r(l),t.d(l,{default:()=>ne});var a=t(27875);const n=(0,a.uE)('<h1 id="loadmore-api" tabindex="-1"><a class="header-anchor" href="#loadmore-api" aria-hidden="true">#</a> LoadMore API</h1><p>LoadMore extension.</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token operator">...</span>ReturnValues <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useLoadMore</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">R</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>Service<span class="token punctuation">,</span> Options<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre></div><div class="custom-container tip"><p class="custom-container-title">TS Type description</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">DataType</span> <span class="token operator">=</span> <span class="token punctuation">{</span> list<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre></div></div>',4),r=(0,a._)("strong",null,"See also:",-1),o=(0,a.uE)('<h2 id="service" tabindex="-1"><a class="header-anchor" href="#service" aria-hidden="true">#</a> Service</h2><h3 id="request-methods" tabindex="-1"><a class="header-anchor" href="#request-methods" aria-hidden="true">#</a> Request methods</h3><ul><li><p><strong>Type:</strong> <code>(data?: DataType) =&gt; Promise&lt;DataType&gt;</code></p></li><li><p><strong>Details:</strong></p><ul><li>The data returned by <code>Service</code> must contain an array named <code>list</code>, with the type of <code>{ list: any[], ...other }</code>.</li><li>The input parameters of <code>Service</code> are the latest integrated <code>data</code>.</li></ul></li></ul><h2 id="return-values" tabindex="-1"><a class="header-anchor" href="#return-values" aria-hidden="true">#</a> Return Values</h2><h3 id="data" tabindex="-1"><a class="header-anchor" href="#data" aria-hidden="true">#</a> data</h3><ul><li><p><strong>Type:</strong> <code>shallowRef&lt;DataType&gt;</code></p></li><li><p><strong>Default:</strong> <code>[]</code></p><p>The data returned by <code>Service</code> must contain an array named <code>list</code>, with the type of <code>{ list: any[], ...other }</code>. The <code>list</code> property contains the aggregated data.</p></li></ul><h3 id="datalist" tabindex="-1"><a class="header-anchor" href="#datalist" aria-hidden="true">#</a> dataList</h3><ul><li><p><strong>Type:</strong> <code>Ref&lt;DataType[&#39;list&#39;]&gt;</code></p></li><li><p><strong>Default:</strong> <code>[]</code></p><p>The <code>list</code> array in <code>data</code>.</p></li></ul><h3 id="error" tabindex="-1"><a class="header-anchor" href="#error" aria-hidden="true">#</a> error</h3><ul><li><p><strong>Type:</strong> <code>shallowRef&lt;Error&gt;</code></p></li><li><p><strong>Default:</strong> <code>[]</code></p><p>Errors returned by <code>Service</code>.</p></li></ul><h3 id="loading" tabindex="-1"><a class="header-anchor" href="#loading" aria-hidden="true">#</a> loading</h3><ul><li><p><strong>Type:</strong> <code>Ref&lt;boolean&gt;</code></p></li><li><p><strong>Default:</strong> <code>false</code></p><p>Whether the request is in progress.</p></li></ul><h3 id="loadingmore" tabindex="-1"><a class="header-anchor" href="#loadingmore" aria-hidden="true">#</a> loadingMore</h3><ul><li><p><strong>Type:</strong> <code>Ref&lt;boolean&gt;</code></p></li><li><p><strong>Default:</strong> <code>false</code></p><p>Whether it is currently loading more data.</p></li></ul><h3 id="nomore" tabindex="-1"><a class="header-anchor" href="#nomore" aria-hidden="true">#</a> noMore</h3><ul><li><p><strong>Type:</strong> <code>Ref&lt;boolean&gt;</code></p></li><li><p><strong>Default:</strong> <code>false</code></p><p>Whether it is currently loading more data. It needs to be used with <a href="#isnomore"><code>isNoMore</code></a>.</p></li></ul><h3 id="loadmore" tabindex="-1"><a class="header-anchor" href="#loadmore" aria-hidden="true">#</a> loadMore</h3><ul><li><p><strong>Type:</strong> <code>() =&gt; void</code></p></li><li><p><strong>Default:</strong> <code>0</code></p><p>Load more data. It will automatically catch exceptions and handle them through <code>options.onError</code>.</p></li></ul><h3 id="loadmoreasync" tabindex="-1"><a class="header-anchor" href="#loadmoreasync" aria-hidden="true">#</a> loadMoreAsync</h3><ul><li><p><strong>Type:</strong> <code>() =&gt; Promise&lt;DataType&gt;</code></p><p>It is used in the same way as <a href="#loadMore"><code>loadMore</code></a>, but it returns a <code>Promise</code> and you need to handle exceptions yourself.</p></li></ul><h3 id="refresh" tabindex="-1"><a class="header-anchor" href="#refresh" aria-hidden="true">#</a> refresh</h3><ul><li><p><strong>Type:</strong> <code>() =&gt; void</code></p><p>Reloads the first page of data. It will automatically catch exceptions and handle them through <code>options.onError</code>.</p></li></ul><h3 id="refreshasync" tabindex="-1"><a class="header-anchor" href="#refreshasync" aria-hidden="true">#</a> refreshAsync</h3><ul><li><p><strong>Type:</strong> <code>() =&gt; void</code></p><p>It is used in the same way as <a href="#refresh"><code>refresh</code></a>, but it returns a <code>Promise</code> and you need to handle exceptions yourself.</p></li></ul><h3 id="mutate" tabindex="-1"><a class="header-anchor" href="#mutate" aria-hidden="true">#</a> mutate</h3><ul><li><p><strong>Type:</strong> <code>(arg: (oldData: DataType) =&gt; DataType) =&gt; void | (newData: DataType) =&gt; void</code></p><p>The result of directly modifying <code>data</code>.</p></li></ul><h3 id="cancel" tabindex="-1"><a class="header-anchor" href="#cancel" aria-hidden="true">#</a> cancel</h3><ul><li><p><strong>Type:</strong> <code>() =&gt; void</code></p><p>Cancel request.</p></li></ul><h2 id="options" tabindex="-1"><a class="header-anchor" href="#options" aria-hidden="true">#</a> Options</h2><h3 id="isnomore" tabindex="-1"><a class="header-anchor" href="#isnomore" aria-hidden="true">#</a> isNoMore</h3><ul><li><p><strong>Type:</strong> <code>(data: R) =&gt; boolean</code></p></li><li><p><strong>Default:</strong> <code>false</code></p></li><li><p><strong>Details:</strong></p><p>Check if there is more data available.</p></li></ul><h3 id="manual" tabindex="-1"><a class="header-anchor" href="#manual" aria-hidden="true">#</a> manual</h3><ul><li><p><strong>Type:</strong> <code>boolean</code></p></li><li><p><strong>Default:</strong> <code>false</code></p></li><li><p><strong>Details:</strong></p><p>When set to <code>true</code>, you need to manually trigger <code>loadMore</code> or <code>loadMoreAsync</code> to initiate the request.</p></li></ul>',33),s={id:"ready",tabindex:"-1"},i=(0,a._)("a",{class:"header-anchor",href:"#ready","aria-hidden":"true"},"#",-1),d=(0,a._)("li",null,[(0,a._)("p",null,[(0,a._)("strong",null,"Type:"),(0,a.Uk)(),(0,a._)("code",null,"Ref<boolean>")])],-1),c=(0,a._)("li",null,[(0,a._)("p",null,[(0,a._)("strong",null,"Default:"),(0,a.Uk)(),(0,a._)("code",null,"false")])],-1),u=(0,a._)("p",null,[(0,a._)("strong",null,"Details:")],-1),p=(0,a._)("code",null,"useRequest",-1),h=(0,a._)("h3",{id:"refreshdeps",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#refreshdeps","aria-hidden":"true"},"#"),(0,a.Uk)(" refreshDeps")],-1),g=(0,a._)("li",null,[(0,a._)("p",null,[(0,a._)("strong",null,"Type:"),(0,a.Uk)(),(0,a._)("code",null,"WatchSource<any>[]")])],-1),_=(0,a._)("li",null,[(0,a._)("p",null,[(0,a._)("strong",null,"Default:"),(0,a.Uk)(),(0,a._)("code",null,"[]")])],-1),f=(0,a._)("p",null,[(0,a._)("strong",null,"Details:")],-1),y=(0,a._)("code",null,"useRequest",-1),v=(0,a._)("h3",{id:"refreshdepsaction",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#refreshdepsaction","aria-hidden":"true"},"#"),(0,a.Uk)(" refreshDepsAction")],-1),m=(0,a._)("li",null,[(0,a._)("p",null,[(0,a._)("strong",null,"Type:"),(0,a.Uk)(),(0,a._)("code",null,"() => void")])],-1),k=(0,a._)("p",null,[(0,a._)("strong",null,"Details:")],-1),b=(0,a._)("code",null,"useRequest",-1),U={id:"debounceinterval",tabindex:"-1"},T=(0,a._)("a",{class:"header-anchor",href:"#debounceinterval","aria-hidden":"true"},"#",-1),D=(0,a._)("li",null,[(0,a._)("p",null,[(0,a._)("strong",null,"Type:"),(0,a.Uk)(),(0,a._)("code",null,"number | Ref<number>")])],-1),x=(0,a._)("li",null,[(0,a._)("p",null,[(0,a._)("strong",null,"Default:"),(0,a.Uk)(),(0,a._)("code",null,"undefined")])],-1),R=(0,a._)("p",null,[(0,a._)("strong",null,"Details:")],-1),w=(0,a._)("code",null,"useRequest",-1),S={id:"debounceoptions",tabindex:"-1"},M=(0,a._)("a",{class:"header-anchor",href:"#debounceoptions","aria-hidden":"true"},"#",-1),W=(0,a._)("li",null,[(0,a._)("p",null,[(0,a._)("strong",null,"Type:"),(0,a.Uk)(),(0,a._)("code",null,"DebounceOptions | Reactive<DebounceOptions>")])],-1),q=(0,a._)("p",null,[(0,a._)("strong",null,"Details:")],-1),I=(0,a._)("code",null,"useRequest",-1),O={id:"throttleinterval",tabindex:"-1"},A=(0,a._)("a",{class:"header-anchor",href:"#throttleinterval","aria-hidden":"true"},"#",-1),E=(0,a._)("li",null,[(0,a._)("p",null,[(0,a._)("strong",null,"Type:"),(0,a.Uk)(),(0,a._)("code",null,"number | Ref<number>")])],-1),L=(0,a._)("li",null,[(0,a._)("p",null,[(0,a._)("strong",null,"Default:"),(0,a.Uk)(),(0,a._)("code",null,"undefined")])],-1),C=(0,a._)("p",null,[(0,a._)("strong",null,"Details:")],-1),P=(0,a._)("code",null,"useRequest",-1),B={id:"throttleoptions",tabindex:"-1"},N=(0,a._)("a",{class:"header-anchor",href:"#throttleoptions","aria-hidden":"true"},"#",-1),V=(0,a._)("li",null,[(0,a._)("p",null,[(0,a._)("strong",null,"Type:"),(0,a.Uk)(),(0,a._)("code",null,"ThrottleOptions | Reactive<ThrottleOptions>")])],-1),J=(0,a._)("p",null,[(0,a._)("strong",null,"Details:")],-1),j=(0,a._)("code",null,"useRequest",-1),H={id:"errorretrycount",tabindex:"-1"},Y=(0,a._)("a",{class:"header-anchor",href:"#errorretrycount","aria-hidden":"true"},"#",-1),Z=(0,a._)("li",null,[(0,a._)("p",null,[(0,a._)("strong",null,"Type:"),(0,a.Uk)(),(0,a._)("code",null,"number | Ref<number>")])],-1),z=(0,a._)("li",null,[(0,a._)("p",null,[(0,a._)("strong",null,"Default:"),(0,a.Uk)(),(0,a._)("code",null,"0")])],-1),F=(0,a._)("p",null,[(0,a._)("strong",null,"Details:")],-1),G=(0,a._)("code",null,"useRequest",-1),K={id:"errorretryinterval",tabindex:"-1"},Q=(0,a._)("a",{class:"header-anchor",href:"#errorretryinterval","aria-hidden":"true"},"#",-1),X=(0,a._)("li",null,[(0,a._)("p",null,[(0,a._)("strong",null,"Type:"),(0,a.Uk)(),(0,a._)("code",null,"number | Ref<number>")])],-1),$=(0,a._)("li",null,[(0,a._)("p",null,[(0,a._)("strong",null,"Default:"),(0,a.Uk)(),(0,a._)("code",null,"0")])],-1),ee=(0,a._)("p",null,[(0,a._)("strong",null,"Details:")],-1),le=(0,a._)("code",null,"useRequest",-1),te=(0,a.uE)('<h3 id="onbefore" tabindex="-1"><a class="header-anchor" href="#onbefore" aria-hidden="true">#</a> onBefore</h3><ul><li><p><strong>Type:</strong> <code>() =&gt; void</code></p></li><li><p><strong>Details:</strong></p><p>Triggered before the execution of <code>Service</code>.</p></li></ul><h3 id="onafter" tabindex="-1"><a class="header-anchor" href="#onafter" aria-hidden="true">#</a> onAfter</h3><ul><li><p><strong>Type:</strong> <code>() =&gt; void</code></p></li><li><p><strong>Details:</strong></p><p>Triggered when <code>Service</code> execution is completed.</p></li></ul><h3 id="onsuccess" tabindex="-1"><a class="header-anchor" href="#onsuccess" aria-hidden="true">#</a> onSuccess</h3><ul><li><p><strong>Type:</strong> <code>(data: DataType) =&gt; void</code></p></li><li><p><strong>Details:</strong></p><p>Triggered when <code>Service</code> resolves, with the <a href="#data"><code>data</code></a> parameter.</p></li></ul><h3 id="onerror" tabindex="-1"><a class="header-anchor" href="#onerror" aria-hidden="true">#</a> onError</h3><ul><li><p><strong>Type:</strong> <code>(error: Error) =&gt; void</code></p></li><li><p><strong>Details:</strong></p><p>Triggered when <code>Service</code> rejects, with the <a href="#error"><code>error</code></a> parameter.</p></li></ul>',8),ae={},ne=(0,t(94407).Z)(ae,[["render",function(e,l){const t=(0,a.up)("RouterLink"),ae=(0,a.up)("Badge");return(0,a.wg)(),(0,a.iD)(a.HY,null,[n,(0,a._)("p",null,[r,(0,a.Uk)(),(0,a.Wm)(t,{to:"/guide/documentation/loadMore.html"},{default:(0,a.w5)((()=>[(0,a.Uk)("LoadMore")])),_:1})]),o,(0,a._)("h3",s,[i,(0,a.Uk)(" ready "),(0,a.Wm)(ae,{type:"tip",text:"reactivity",vertical:"top"})]),(0,a._)("ul",null,[d,c,(0,a._)("li",null,[u,(0,a._)("p",null,[(0,a.Uk)("Same as "),(0,a.Wm)(t,{to:"/api/#ready"},{default:(0,a.w5)((()=>[(0,a.Uk)("ready")])),_:1}),(0,a.Uk)(" in "),p])])]),h,(0,a._)("ul",null,[g,_,(0,a._)("li",null,[f,(0,a._)("p",null,[(0,a.Uk)("Same as "),(0,a.Wm)(t,{to:"/api/#refreshdeps"},{default:(0,a.w5)((()=>[(0,a.Uk)("refreshDeps")])),_:1}),(0,a.Uk)(" in "),y])])]),v,(0,a._)("ul",null,[m,(0,a._)("li",null,[k,(0,a._)("p",null,[(0,a.Uk)("Same as "),(0,a.Wm)(t,{to:"/api/#refreshdepsaction"},{default:(0,a.w5)((()=>[(0,a.Uk)("refreshDepsAction")])),_:1}),(0,a.Uk)(" of "),b])])]),(0,a._)("h3",U,[T,(0,a.Uk)(" debounceInterval "),(0,a.Wm)(ae,{type:"tip",text:"reactivity",vertical:"top"})]),(0,a._)("ul",null,[D,x,(0,a._)("li",null,[R,(0,a._)("p",null,[(0,a.Uk)("Same as "),(0,a.Wm)(t,{to:"/api/#debounceinterval"},{default:(0,a.w5)((()=>[(0,a.Uk)("debounceInterval")])),_:1}),(0,a.Uk)(" in "),w])])]),(0,a._)("h3",S,[M,(0,a.Uk)(" debounceOptions "),(0,a.Wm)(ae,{type:"tip",text:"reactivity",vertical:"top"})]),(0,a._)("ul",null,[W,(0,a._)("li",null,[q,(0,a._)("p",null,[(0,a.Uk)("Same as "),(0,a.Wm)(t,{to:"/api/#debounceoptions"},{default:(0,a.w5)((()=>[(0,a.Uk)("debounceOptions")])),_:1}),(0,a.Uk)(" in "),I])])]),(0,a._)("h3",O,[A,(0,a.Uk)(" throttleInterval "),(0,a.Wm)(ae,{type:"tip",text:"reactivity",vertical:"top"})]),(0,a._)("ul",null,[E,L,(0,a._)("li",null,[C,(0,a._)("p",null,[(0,a.Uk)("Same as "),(0,a.Wm)(t,{to:"/api/#throttleinterval"},{default:(0,a.w5)((()=>[(0,a.Uk)("throttleInterval")])),_:1}),(0,a.Uk)(" in "),P])])]),(0,a._)("h3",B,[N,(0,a.Uk)(" throttleOptions "),(0,a.Wm)(ae,{type:"tip",text:"reactivity",vertical:"top"})]),(0,a._)("ul",null,[V,(0,a._)("li",null,[J,(0,a._)("p",null,[(0,a.Uk)("Same as "),(0,a.Wm)(t,{to:"/api/#throttleoptions"},{default:(0,a.w5)((()=>[(0,a.Uk)("throttleOptions")])),_:1}),(0,a.Uk)(" in "),j])])]),(0,a._)("h3",H,[Y,(0,a.Uk)(" errorRetryCount "),(0,a.Wm)(ae,{type:"tip",text:"reactivity",vertical:"top"})]),(0,a._)("ul",null,[Z,z,(0,a._)("li",null,[F,(0,a._)("p",null,[(0,a.Uk)("Same as "),(0,a.Wm)(t,{to:"/api/#errorretrycount"},{default:(0,a.w5)((()=>[(0,a.Uk)("errorRetryCount")])),_:1}),(0,a.Uk)(" in "),G])])]),(0,a._)("h3",K,[Q,(0,a.Uk)(" errorRetryInterval "),(0,a.Wm)(ae,{type:"tip",text:"reactivity",vertical:"top"})]),(0,a._)("ul",null,[X,$,(0,a._)("li",null,[ee,(0,a._)("p",null,[(0,a.Uk)("Same as "),(0,a.Wm)(t,{to:"/api/#errorretryinterval"},{default:(0,a.w5)((()=>[(0,a.Uk)("errorRetryInterval")])),_:1}),(0,a.Uk)(" in "),le])])]),te],64)}]])},64488:(e,l,t)=>{t.r(l),t.d(l,{data:()=>a});const a={key:"v-4bd15160",path:"/api/loadMore.html",title:"LoadMore API",lang:"en-US",frontmatter:{},excerpt:"",headers:[{level:2,title:"Service",slug:"service",children:[{level:3,title:"Request methods",slug:"request-methods",children:[]}]},{level:2,title:"Return Values",slug:"return-values",children:[{level:3,title:"data",slug:"data",children:[]},{level:3,title:"dataList",slug:"datalist",children:[]},{level:3,title:"error",slug:"error",children:[]},{level:3,title:"loading",slug:"loading",children:[]},{level:3,title:"loadingMore",slug:"loadingmore",children:[]},{level:3,title:"noMore",slug:"nomore",children:[]},{level:3,title:"loadMore",slug:"loadmore",children:[]},{level:3,title:"loadMoreAsync",slug:"loadmoreasync",children:[]},{level:3,title:"refresh",slug:"refresh",children:[]},{level:3,title:"refreshAsync",slug:"refreshasync",children:[]},{level:3,title:"mutate",slug:"mutate",children:[]},{level:3,title:"cancel",slug:"cancel",children:[]}]},{level:2,title:"Options",slug:"options",children:[{level:3,title:"isNoMore",slug:"isnomore",children:[]},{level:3,title:"manual",slug:"manual",children:[]},{level:3,title:"ready",slug:"ready",children:[]},{level:3,title:"refreshDeps",slug:"refreshdeps",children:[]},{level:3,title:"refreshDepsAction",slug:"refreshdepsaction",children:[]},{level:3,title:"debounceInterval",slug:"debounceinterval",children:[]},{level:3,title:"debounceOptions",slug:"debounceoptions",children:[]},{level:3,title:"throttleInterval",slug:"throttleinterval",children:[]},{level:3,title:"throttleOptions",slug:"throttleoptions",children:[]},{level:3,title:"errorRetryCount",slug:"errorretrycount",children:[]},{level:3,title:"errorRetryInterval",slug:"errorretryinterval",children:[]},{level:3,title:"onBefore",slug:"onbefore",children:[]},{level:3,title:"onAfter",slug:"onafter",children:[]},{level:3,title:"onSuccess",slug:"onsuccess",children:[]},{level:3,title:"onError",slug:"onerror",children:[]}]}],filePathRelative:"api/loadMore.md",git:{updatedTime:1686191886e3,contributors:[{name:"John",email:"John60676@qq.com",commits:1}]}}}}]);