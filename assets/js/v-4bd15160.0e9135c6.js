"use strict";(self.webpackChunken=self.webpackChunken||[]).push([[114],{47911:(e,l,t)=>{t.r(l),t.d(l,{default:()=>Ne});var a=t(27875);const r=(0,a.uE)('<h1 id="loadmore-api" tabindex="-1"><a class="header-anchor" href="#loadmore-api" aria-hidden="true">#</a> LoadMore API</h1><p>LoadMore extensions.</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token operator">...</span>ReturnValues <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useLoadMore</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">R</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>Service<span class="token punctuation">,</span> Options<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre></div><div class="custom-container tip"><p class="custom-container-title">TS Type description</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">DataType</span> <span class="token operator">=</span> <span class="token punctuation">{</span> list<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre></div></div>',4),n=(0,a._)("strong",null,"See also:",-1),o=(0,a.Uk)(),s=(0,a.Uk)("LoadMore"),i=(0,a.uE)('<h2 id="service" tabindex="-1"><a class="header-anchor" href="#service" aria-hidden="true">#</a> Service</h2><h3 id="request-methods" tabindex="-1"><a class="header-anchor" href="#request-methods" aria-hidden="true">#</a> Request methods</h3><ul><li><p><strong>Type:</strong> <code>(data?: DataType) =&gt; Promise&lt;DataType&gt;</code></p></li><li><p><strong>Details:</strong></p><ul><li>The data returned by <code>Service</code> must contain a <code>list</code> array, the type is <code>{ list: any[], ...other }</code></li><li>The input parameter of <code>Service</code> is the latest merged <code>data</code></li></ul></li></ul><h2 id="return-values" tabindex="-1"><a class="header-anchor" href="#return-values" aria-hidden="true">#</a> Return Values</h2><h3 id="data" tabindex="-1"><a class="header-anchor" href="#data" aria-hidden="true">#</a> data</h3><ul><li><p><strong>Type:</strong> <code>shallowRef&lt;DataType&gt;</code></p></li><li><p><strong>Default:</strong> <code>[]</code></p><p>The data returned by <code>Service</code> must contain a <code>list</code> array, the type is <code>{ list: any[], ...other }</code>, the <code>list</code> attribute is the aggregated data</p></li></ul><h3 id="datalist" tabindex="-1"><a class="header-anchor" href="#datalist" aria-hidden="true">#</a> dataList</h3><ul><li><p><strong>Type:</strong> <code>Ref&lt;DataType[&#39;list&#39;]&gt;</code></p></li><li><p><strong>Default:</strong> <code>[]</code></p><p><code>list</code> array in <code>data</code>.</p></li></ul><h3 id="error" tabindex="-1"><a class="header-anchor" href="#error" aria-hidden="true">#</a> error</h3><ul><li><p><strong>Type:</strong> <code>shallowRef&lt;Error&gt;</code></p></li><li><p><strong>Default:</strong> <code>[]</code></p><p>If an error is thrown internally, it will be received by <code>error</code> and returned.</p></li></ul><h3 id="loading" tabindex="-1"><a class="header-anchor" href="#loading" aria-hidden="true">#</a> loading</h3><ul><li><p><strong>Type:</strong> <code>Ref&lt;boolean&gt;</code></p></li><li><p><strong>Default:</strong> <code>false</code></p><p><a href="#service"><strong>Service</strong></a> The execution status of the request</p></li></ul><h3 id="loadingmore" tabindex="-1"><a class="header-anchor" href="#loadingmore" aria-hidden="true">#</a> loadingMore</h3><ul><li><p><strong>Type:</strong> <code>Ref&lt;boolean&gt;</code></p></li><li><p><strong>Default:</strong> <code>false</code></p><p>Is more data request in progress</p></li></ul><h3 id="nomore" tabindex="-1"><a class="header-anchor" href="#nomore" aria-hidden="true">#</a> noMore</h3><ul><li><p><strong>Type:</strong> <code>Ref&lt;boolean&gt;</code></p></li><li><p><strong>Default:</strong> <code>false</code></p><p>Is there have more data, need use with <a href="#isnomore"><code>isNoMore</code></a>.</p></li></ul><h3 id="loadmore" tabindex="-1"><a class="header-anchor" href="#loadmore" aria-hidden="true">#</a> loadMore</h3><ul><li><p><strong>Type:</strong> <code>() =&gt; void</code></p></li><li><p><strong>Default:</strong> <code>0</code></p><p>Load more data, it will automatically catch the exception, and handle it through <a href="#onerror"><code>onError</code></a></p></li></ul><h3 id="loadmoreasync" tabindex="-1"><a class="header-anchor" href="#loadmoreasync" aria-hidden="true">#</a> loadMoreAsync</h3><ul><li><p><strong>Type:</strong> <code>() =&gt; Promise&lt;DataType&gt;</code></p><p>Load more data, which is consistent with the behavior of <a href="#loadMore"><code>loadMore</code></a>, but returns Promise, so you need to handle the exception yourself</p></li></ul><h3 id="refresh" tabindex="-1"><a class="header-anchor" href="#refresh" aria-hidden="true">#</a> refresh</h3><ul><li><p><strong>Type:</strong> <code>() =&gt; void</code></p><p>Load the first page of data, it will automatically catch the exception, and handle it through <a href="#onerror"><code>onError</code></a></p></li></ul><h3 id="refreshasync" tabindex="-1"><a class="header-anchor" href="#refreshasync" aria-hidden="true">#</a> refreshAsync</h3><ul><li><p><strong>Type:</strong> <code>() =&gt; void</code></p><p>Load the first page of data, which is consistent with the behavior of <a href="#refresh"><code>refresh</code></a>, but returns Promise, so you need to handle the exception yourself</p></li></ul><h3 id="mutate" tabindex="-1"><a class="header-anchor" href="#mutate" aria-hidden="true">#</a> mutate</h3><ul><li><p><strong>Type:</strong> <code>(arg: (oldData: DataType) =&gt; DataType) =&gt; void | (newData: DataType) =&gt; void</code></p><p>Modify <code>data</code> directly</p></li></ul><h3 id="cancel" tabindex="-1"><a class="header-anchor" href="#cancel" aria-hidden="true">#</a> cancel</h3><ul><li><p><strong>Type:</strong> <code>() =&gt; void</code></p><p>Cancel the request currently in progress</p></li></ul><h2 id="options" tabindex="-1"><a class="header-anchor" href="#options" aria-hidden="true">#</a> Options</h2><h3 id="isnomore" tabindex="-1"><a class="header-anchor" href="#isnomore" aria-hidden="true">#</a> isNoMore</h3><ul><li><p><strong>Type:</strong> <code>(data: R) =&gt; boolean</code></p></li><li><p><strong>Default:</strong> <code>false</code></p></li><li><p><strong>Details:</strong></p><p>Determines if there is no more data, the input parameter is the latest merged <code>data</code></p></li></ul><h3 id="manual" tabindex="-1"><a class="header-anchor" href="#manual" aria-hidden="true">#</a> manual</h3><ul><li><p><strong>Type:</strong> <code>boolean</code></p></li><li><p><strong>Default:</strong> <code>false</code></p></li><li><p><strong>Details:</strong></p><p>If set to <code>true</code>, you need to manually call <code>loadMore</code> or <code>loadMoreAsync</code> to trigger execution</p></li></ul>',33),d={id:"ready",tabindex:"-1"},c=(0,a._)("a",{class:"header-anchor",href:"#ready","aria-hidden":"true"},"#",-1),u=(0,a.Uk)(" ready "),p=(0,a._)("li",null,[(0,a._)("p",null,[(0,a._)("strong",null,"Type:"),(0,a.Uk)(),(0,a._)("code",null,"Ref<boolean>")])],-1),h=(0,a._)("li",null,[(0,a._)("p",null,[(0,a._)("strong",null,"Default:"),(0,a.Uk)(),(0,a._)("code",null,"false")])],-1),g=(0,a._)("p",null,[(0,a._)("strong",null,"Details:")],-1),f=(0,a.Uk)("Same as "),_=(0,a.Uk)("ready"),y=(0,a.Uk)(" of "),v=(0,a._)("code",null,"useRequest",-1),m=(0,a._)("h3",{id:"refreshdeps",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#refreshdeps","aria-hidden":"true"},"#"),(0,a.Uk)(" refreshDeps")],-1),k=(0,a._)("li",null,[(0,a._)("p",null,[(0,a._)("strong",null,"Type:"),(0,a.Uk)(),(0,a._)("code",null,"WatchSource<any>[]")])],-1),b=(0,a._)("li",null,[(0,a._)("p",null,[(0,a._)("strong",null,"Default:"),(0,a.Uk)(),(0,a._)("code",null,"[]")])],-1),U=(0,a._)("p",null,[(0,a._)("strong",null,"Details:")],-1),D=(0,a.Uk)("Same as "),x=(0,a.Uk)("refreshDeps"),T=(0,a.Uk)(" of "),R=(0,a._)("code",null,"useRequest",-1),w=(0,a._)("h3",{id:"refreshdepsaction",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#refreshdepsaction","aria-hidden":"true"},"#"),(0,a.Uk)(" refreshDepsAction")],-1),S=(0,a._)("li",null,[(0,a._)("p",null,[(0,a._)("strong",null,"Type:"),(0,a.Uk)(),(0,a._)("code",null,"() => void")])],-1),M=(0,a._)("p",null,[(0,a._)("strong",null,"Details:")],-1),q=(0,a.Uk)("Same as "),W=(0,a.Uk)("refreshDepsAction"),I=(0,a.Uk)(" of "),O=(0,a._)("code",null,"useRequest",-1),A={id:"debounceinterval",tabindex:"-1"},L=(0,a._)("a",{class:"header-anchor",href:"#debounceinterval","aria-hidden":"true"},"#",-1),E=(0,a.Uk)(" debounceInterval "),P=(0,a._)("li",null,[(0,a._)("p",null,[(0,a._)("strong",null,"Type:"),(0,a.Uk)(),(0,a._)("code",null,"number | Ref<number>")])],-1),C=(0,a._)("li",null,[(0,a._)("p",null,[(0,a._)("strong",null,"Default:"),(0,a.Uk)(),(0,a._)("code",null,"undefined")])],-1),B=(0,a._)("p",null,[(0,a._)("strong",null,"Details:")],-1),N=(0,a.Uk)("Same as "),V=(0,a.Uk)("debounceInterval"),J=(0,a.Uk)(" of "),j=(0,a._)("code",null,"useRequest",-1),H={id:"debounceoptions",tabindex:"-1"},Y=(0,a._)("a",{class:"header-anchor",href:"#debounceoptions","aria-hidden":"true"},"#",-1),Z=(0,a.Uk)(" debounceOptions "),z=(0,a._)("li",null,[(0,a._)("p",null,[(0,a._)("strong",null,"Type:"),(0,a.Uk)(),(0,a._)("code",null,"DebounceOptions | Reactive<DebounceOptions>")])],-1),F=(0,a._)("p",null,[(0,a._)("strong",null,"Details:")],-1),G=(0,a.Uk)("Same as "),K=(0,a.Uk)("debounceOptions"),Q=(0,a.Uk)(" of "),X=(0,a._)("code",null,"useRequest",-1),$={id:"throttleinterval",tabindex:"-1"},ee=(0,a._)("a",{class:"header-anchor",href:"#throttleinterval","aria-hidden":"true"},"#",-1),le=(0,a.Uk)(" throttleInterval "),te=(0,a._)("li",null,[(0,a._)("p",null,[(0,a._)("strong",null,"Type:"),(0,a.Uk)(),(0,a._)("code",null,"number | Ref<number>")])],-1),ae=(0,a._)("li",null,[(0,a._)("p",null,[(0,a._)("strong",null,"Default:"),(0,a.Uk)(),(0,a._)("code",null,"undefined")])],-1),re=(0,a._)("p",null,[(0,a._)("strong",null,"Details:")],-1),ne=(0,a.Uk)("Same as "),oe=(0,a.Uk)("throttleInterval"),se=(0,a.Uk)(" of "),ie=(0,a._)("code",null,"useRequest",-1),de={id:"throttleoptions",tabindex:"-1"},ce=(0,a._)("a",{class:"header-anchor",href:"#throttleoptions","aria-hidden":"true"},"#",-1),ue=(0,a.Uk)(" throttleOptions "),pe=(0,a._)("li",null,[(0,a._)("p",null,[(0,a._)("strong",null,"Type:"),(0,a.Uk)(),(0,a._)("code",null,"ThrottleOptions | Reactive<ThrottleOptions>")])],-1),he=(0,a._)("p",null,[(0,a._)("strong",null,"Details:")],-1),ge=(0,a.Uk)("Same as "),fe=(0,a.Uk)("throttleOptions"),_e=(0,a.Uk)(" of "),ye=(0,a._)("code",null,"useRequest",-1),ve={id:"errorretrycount",tabindex:"-1"},me=(0,a._)("a",{class:"header-anchor",href:"#errorretrycount","aria-hidden":"true"},"#",-1),ke=(0,a.Uk)(" errorRetryCount "),be=(0,a._)("li",null,[(0,a._)("p",null,[(0,a._)("strong",null,"Type:"),(0,a.Uk)(),(0,a._)("code",null,"number | Ref<number>")])],-1),Ue=(0,a._)("li",null,[(0,a._)("p",null,[(0,a._)("strong",null,"Default:"),(0,a.Uk)(),(0,a._)("code",null,"0")])],-1),De=(0,a._)("p",null,[(0,a._)("strong",null,"Details:")],-1),xe=(0,a.Uk)("Same as "),Te=(0,a.Uk)("errorRetryCount"),Re=(0,a.Uk)(" of "),we=(0,a._)("code",null,"useRequest",-1),Se={id:"errorretryinterval",tabindex:"-1"},Me=(0,a._)("a",{class:"header-anchor",href:"#errorretryinterval","aria-hidden":"true"},"#",-1),qe=(0,a.Uk)(" errorRetryInterval "),We=(0,a._)("li",null,[(0,a._)("p",null,[(0,a._)("strong",null,"Type:"),(0,a.Uk)(),(0,a._)("code",null,"number | Ref<number>")])],-1),Ie=(0,a._)("li",null,[(0,a._)("p",null,[(0,a._)("strong",null,"Default:"),(0,a.Uk)(),(0,a._)("code",null,"0")])],-1),Oe=(0,a._)("p",null,[(0,a._)("strong",null,"Details:")],-1),Ae=(0,a.Uk)("Same as "),Le=(0,a.Uk)("errorRetryInterval"),Ee=(0,a.Uk)(" of "),Pe=(0,a._)("code",null,"useRequest",-1),Ce=(0,a.uE)('<h3 id="onbefore" tabindex="-1"><a class="header-anchor" href="#onbefore" aria-hidden="true">#</a> onBefore</h3><ul><li><p><strong>Type:</strong> <code>() =&gt; void</code></p></li><li><p><strong>Details:</strong></p><p>Triggered before <code>Service</code> execution</p></li></ul><h3 id="onafter" tabindex="-1"><a class="header-anchor" href="#onafter" aria-hidden="true">#</a> onAfter</h3><ul><li><p><strong>Type:</strong> <code>() =&gt; void</code></p></li><li><p><strong>Details:</strong></p><p>Triggered when <code>Service</code> execution is complete</p></li></ul><h3 id="onsuccess" tabindex="-1"><a class="header-anchor" href="#onsuccess" aria-hidden="true">#</a> onSuccess</h3><ul><li><p><strong>Type:</strong> <code>(data: DataType) =&gt; void</code></p></li><li><p><strong>Details:</strong></p><p>Triggered when <code>Service</code> resolve</p></li></ul><h3 id="onerror" tabindex="-1"><a class="header-anchor" href="#onerror" aria-hidden="true">#</a> onError</h3><ul><li><p><strong>Type:</strong> <code>(error: Error) =&gt; void</code></p></li><li><p><strong>Details:</strong></p><p>Triggered when <code>Service</code> reject</p></li></ul>',8),Be={},Ne=(0,t(94407).Z)(Be,[["render",function(e,l){const t=(0,a.up)("RouterLink"),Be=(0,a.up)("Badge");return(0,a.wg)(),(0,a.iD)(a.HY,null,[r,(0,a._)("p",null,[n,o,(0,a.Wm)(t,{to:"/guide/documentation/loadMore.html"},{default:(0,a.w5)((()=>[s])),_:1})]),i,(0,a._)("h3",d,[c,u,(0,a.Wm)(Be,{type:"tip",text:"reactivity",vertical:"top"})]),(0,a._)("ul",null,[p,h,(0,a._)("li",null,[g,(0,a._)("p",null,[f,(0,a.Wm)(t,{to:"/api/#ready"},{default:(0,a.w5)((()=>[_])),_:1}),y,v])])]),m,(0,a._)("ul",null,[k,b,(0,a._)("li",null,[U,(0,a._)("p",null,[D,(0,a.Wm)(t,{to:"/api/#refreshdeps"},{default:(0,a.w5)((()=>[x])),_:1}),T,R])])]),w,(0,a._)("ul",null,[S,(0,a._)("li",null,[M,(0,a._)("p",null,[q,(0,a.Wm)(t,{to:"/api/#refreshdepsaction"},{default:(0,a.w5)((()=>[W])),_:1}),I,O])])]),(0,a._)("h3",A,[L,E,(0,a.Wm)(Be,{type:"tip",text:"reactivity",vertical:"top"})]),(0,a._)("ul",null,[P,C,(0,a._)("li",null,[B,(0,a._)("p",null,[N,(0,a.Wm)(t,{to:"/api/#debounceinterval"},{default:(0,a.w5)((()=>[V])),_:1}),J,j])])]),(0,a._)("h3",H,[Y,Z,(0,a.Wm)(Be,{type:"tip",text:"reactivity",vertical:"top"})]),(0,a._)("ul",null,[z,(0,a._)("li",null,[F,(0,a._)("p",null,[G,(0,a.Wm)(t,{to:"/api/#debounceoptions"},{default:(0,a.w5)((()=>[K])),_:1}),Q,X])])]),(0,a._)("h3",$,[ee,le,(0,a.Wm)(Be,{type:"tip",text:"reactivity",vertical:"top"})]),(0,a._)("ul",null,[te,ae,(0,a._)("li",null,[re,(0,a._)("p",null,[ne,(0,a.Wm)(t,{to:"/api/#throttleinterval"},{default:(0,a.w5)((()=>[oe])),_:1}),se,ie])])]),(0,a._)("h3",de,[ce,ue,(0,a.Wm)(Be,{type:"tip",text:"reactivity",vertical:"top"})]),(0,a._)("ul",null,[pe,(0,a._)("li",null,[he,(0,a._)("p",null,[ge,(0,a.Wm)(t,{to:"/api/#throttleoptions"},{default:(0,a.w5)((()=>[fe])),_:1}),_e,ye])])]),(0,a._)("h3",ve,[me,ke,(0,a.Wm)(Be,{type:"tip",text:"reactivity",vertical:"top"})]),(0,a._)("ul",null,[be,Ue,(0,a._)("li",null,[De,(0,a._)("p",null,[xe,(0,a.Wm)(t,{to:"/api/#errorretrycount"},{default:(0,a.w5)((()=>[Te])),_:1}),Re,we])])]),(0,a._)("h3",Se,[Me,qe,(0,a.Wm)(Be,{type:"tip",text:"reactivity",vertical:"top"})]),(0,a._)("ul",null,[We,Ie,(0,a._)("li",null,[Oe,(0,a._)("p",null,[Ae,(0,a.Wm)(t,{to:"/api/#errorretryinterval"},{default:(0,a.w5)((()=>[Le])),_:1}),Ee,Pe])])]),Ce],64)}]])},64488:(e,l,t)=>{t.r(l),t.d(l,{data:()=>a});const a={key:"v-4bd15160",path:"/api/loadMore.html",title:"LoadMore API",lang:"en-US",frontmatter:{},excerpt:"",headers:[{level:2,title:"Service",slug:"service",children:[{level:3,title:"Request methods",slug:"request-methods",children:[]}]},{level:2,title:"Return Values",slug:"return-values",children:[{level:3,title:"data",slug:"data",children:[]},{level:3,title:"dataList",slug:"datalist",children:[]},{level:3,title:"error",slug:"error",children:[]},{level:3,title:"loading",slug:"loading",children:[]},{level:3,title:"loadingMore",slug:"loadingmore",children:[]},{level:3,title:"noMore",slug:"nomore",children:[]},{level:3,title:"loadMore",slug:"loadmore",children:[]},{level:3,title:"loadMoreAsync",slug:"loadmoreasync",children:[]},{level:3,title:"refresh",slug:"refresh",children:[]},{level:3,title:"refreshAsync",slug:"refreshasync",children:[]},{level:3,title:"mutate",slug:"mutate",children:[]},{level:3,title:"cancel",slug:"cancel",children:[]}]},{level:2,title:"Options",slug:"options",children:[{level:3,title:"isNoMore",slug:"isnomore",children:[]},{level:3,title:"manual",slug:"manual",children:[]},{level:3,title:"ready",slug:"ready",children:[]},{level:3,title:"refreshDeps",slug:"refreshdeps",children:[]},{level:3,title:"refreshDepsAction",slug:"refreshdepsaction",children:[]},{level:3,title:"debounceInterval",slug:"debounceinterval",children:[]},{level:3,title:"debounceOptions",slug:"debounceoptions",children:[]},{level:3,title:"throttleInterval",slug:"throttleinterval",children:[]},{level:3,title:"throttleOptions",slug:"throttleoptions",children:[]},{level:3,title:"errorRetryCount",slug:"errorretrycount",children:[]},{level:3,title:"errorRetryInterval",slug:"errorretryinterval",children:[]},{level:3,title:"onBefore",slug:"onbefore",children:[]},{level:3,title:"onAfter",slug:"onafter",children:[]},{level:3,title:"onSuccess",slug:"onsuccess",children:[]},{level:3,title:"onError",slug:"onerror",children:[]}]}],filePathRelative:"api/loadMore.md",git:{updatedTime:1686031868e3,contributors:[{name:"John",email:"John60676@qq.com",commits:1}]}}}}]);